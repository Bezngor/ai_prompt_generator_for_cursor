# –ü–û–õ–ù–´–ô CURSOR –ü–†–û–ú–ü–¢: Telegram-–±–æ—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø—Ä–æ–º–ø—Ç–æ–≤

## –ü–û–õ–ù–û–ï –û–ü–ò–°–ê–ù–ò–ï –ó–ê–î–ê–ß–ò

–°–æ–∑–¥–∞–π **Telegram-–±–æ—Ç–∞ –Ω–∞ Python** (aiogram 3.x), –∫–æ—Ç–æ—Ä—ã–π **–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –≤—ã—Å–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è AI-–º–æ–¥–µ–ª–µ–π** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **–∏—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –≤–æ—Ä–∫—Ñ–ª–æ—É**.

–ë–æ—Ç –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —Ö–æ—Ç—è—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è Cursor, ChatGPT, Claude –∏ –¥—Ä—É–≥–∏—Ö AI-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤.

---

## üéØ –§–£–ù–ö–¶–ò–û–ù–ê–õ–¨–ù–´–ô –í–û–†–ö–§–õ–û–£ (5 –≠–¢–ê–ü–û–í)

### –§–∞–∑–∞ 1: –°–±–æ—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∑–∞–¥–∞—á–µ
1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–ø–∏—Å—ã–≤–∞–µ—Ç –∑–∞–¥–∞—á—É** (–ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç)
2. **–ë–æ—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –æ–ø–∏—Å–∞–Ω–∏–µ** –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç **2-4 —É—Ç–æ—á–Ω—è—é—â–∏—Ö –≤–æ–ø—Ä–æ—Å–∞**:
   - –ù—É–∂–Ω–æ –ª–∏ —Å–æ–±–ª—é–¥–∞—Ç—å –§–ó 152 –†–§ (–∑–∞—â–∏—Ç–∞ –¥–∞–Ω–Ω—ã—Ö)?
   - –°–∫–æ–ª—å–∫–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è?
   - –ö–∞–∫–æ–π —Å—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª–µ–Ω?
   - –ï—Å—Ç—å –ª–∏ —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ API –∏–ª–∏ —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏?

### –§–∞–∑–∞ 2: –ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ –∏ –∞–Ω–∞–ª–∏–∑
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã (–æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è)
2. –ë–æ—Ç –Ω–∞–∫–∞–ø–ª–∏–≤–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –ø–∞–º—è—Ç–∏ —Å–µ—Å—Å–∏–∏
3. –ë–æ—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç—ã –∏ **–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏**:
   - –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
   - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω
   - –ö–ª—é—á–µ–≤—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
   - –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —Ä–∏—Å–∫–∏ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### –§–∞–∑–∞ 3: –ü—Ä–∏–Ω—è—Ç–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
1. –ë–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç:
   - ‚úÖ –ü—Ä–∏–Ω—è—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ (`/accept`)
   - üîÑ –ü–æ–ø—Ä–æ—Å–∏—Ç—å –ø–µ—Ä–µ—Å—á–µ—Ç (`/rethink`)
   - üìù –í–Ω–µ—Å—Ç–∏ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫—É –≤ –∏—Å—Ö–æ–¥–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ (`/edit`)

### –§–∞–∑–∞ 4: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞
1. –ë–æ—Ç –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è Cursor/ChatGPT
2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞:
   - `# –ó–ê–î–ê–ß–ê` / `# GOAL`
   - `# –¢–†–ï–ë–û–í–ê–ù–ò–Ø` / `# REQUIREMENTS`
   - `# TECH STACK`
   - `# –ê–†–•–ò–¢–ï–ö–¢–£–†–ê`
   - `# –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –¢–†–ï–ë–û–í–ê–ù–ò–Ø`
   - `# OUTPUT FORMAT`

### –§–∞–∑–∞ 5: –ò—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ
1. –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–º–ø—Ç
2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç:
   - üìå –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ–º–ø—Ç (`/save`)
   - üì§ –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ —Ñ–∞–π–ª (`.txt`)
   - üîß –í–Ω–µ—Å—Ç–∏ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫—É:
     - `/edit_section` ‚Äî –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—É—é —Å–µ–∫—Ü–∏—é
     - `/add_requirement` ‚Äî –¥–æ–±–∞–≤–∏—Ç—å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ
     - `/remove_requirement` ‚Äî —É–¥–∞–ª–∏—Ç—å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ
   - üîÑ –ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ (`/restart`)

---

## üèóÔ∏è –ê–†–•–ò–¢–ï–ö–¢–£–†–ê

```
tg_bot_prompt_generator/
‚îú‚îÄ‚îÄ main.py                  # —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞, handlers
‚îú‚îÄ‚îÄ config.py                # –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ states.py                # FSM —Å–æ—Å—Ç–æ—è–Ω–∏—è (StatesGroup)
‚îú‚îÄ‚îÄ llm_client.py            # –∫–ª–∞—Å—Å –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å LLM
‚îú‚îÄ‚îÄ prompt_generator.py      # –ª–æ–≥–∏–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø—Ä–æ–º–ø—Ç–æ–≤
‚îú‚îÄ‚îÄ session_manager.py       # —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ—Å—Å–∏–π –∏ –∏—Å—Ç–æ—Ä–∏–∏
‚îú‚îÄ‚îÄ utils.py                 # —É—Ç–∏–ª–∏—Ç—ã (—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø–∞—Ä—Å–∏–Ω–≥)
‚îú‚îÄ‚îÄ templates.py             # —à–∞–±–ª–æ–Ω—ã –≤–æ–ø—Ä–æ—Å–æ–≤, —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π, –ø—Ä–æ–º–ø—Ç–æ–≤
‚îú‚îÄ‚îÄ database.py              # (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î
‚îú‚îÄ‚îÄ .env                      # –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ requirements.txt          # –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ README.md                 # –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∑–∞–ø—É—Å–∫—É
```

---

## ü§ñ –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï LLM

### API Configuration ‚ö†Ô∏è

**–ò—Å–ø–æ–ª—å–∑—É–π ProxyAPI —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π OpenAI-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞:**
```python
from openai import OpenAI

client = OpenAI(
    api_key=os.environ.get("OPENAI_API_KEY"),
    base_url="https://api.proxyapi.ru/openai/v1"
)

response = client.chat.completions.create(
    model="gpt-4o-mini",
    max_tokens=4000,
    temperature=0.7,
    system="...",
    messages=[...]
)
```

### –°–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ñ–∞–∑:

#### Phase 1: –ê–Ω–∞–ª–∏–∑ –æ–ø–∏—Å–∞–Ω–∏—è –∑–∞–¥–∞—á–∏
```
–¢—ã ‚Äî –æ–ø—ã—Ç–Ω—ã–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä –ü–û –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫. 
–¢–≤–æ—è –∑–∞–¥–∞—á–∞ ‚Äî –ø–æ–º–æ—á—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å–æ—Å—Ç–∞–≤–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω—ã–π –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è AI.

–ù–∞ –æ—Å–Ω–æ–≤–µ –æ–ø–∏—Å–∞–Ω–∏—è –∑–∞–¥–∞—á–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —Å—Ñ–æ—Ä–º–∏—Ä—É–π 3-4 –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —É—Ç–æ—á–Ω—è—é—â–∏—Ö –≤–æ–ø—Ä–æ—Å–∞:
- –í–æ–ø—Ä–æ—Å—ã –¥–æ–ª–∂–Ω—ã –∫–∞—Å–∞—Ç—å—Å—è: —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∫ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç–∏, compliance/–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, 
  —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ —Å—Ç–µ–∫–∞, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –ö–∞–∂–¥—ã–π –≤–æ–ø—Ä–æ—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –∏ –æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ã–º
- –í–æ–ø—Ä–æ—Å—ã –¥–æ–ª–∂–Ω—ã –ø–æ–º–æ—á—å –≤—ã–±—Ä–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É

–í–µ—Ä–Ω–∏ —Ç–æ–ª—å–∫–æ —Å–ø–∏—Å–æ–∫ –≤–æ–ø—Ä–æ—Å–æ–≤ –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
1. –í–æ–ø—Ä–æ—Å 1?
2. –í–æ–ø—Ä–æ—Å 2?
3. –í–æ–ø—Ä–æ—Å 3?
```

#### Phase 2: –ê–Ω–∞–ª–∏–∑ –æ—Ç–≤–µ—Ç–æ–≤ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
```
–ù–∞ –æ—Å–Ω–æ–≤–µ –∏—Å—Ö–æ–¥–Ω–æ–π –∑–∞–¥–∞—á–∏ –∏ –æ—Ç–≤–µ—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ —É—Ç–æ—á–Ω—è—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã, 
—Å—Ñ–æ—Ä–º–∏—Ä—É–π —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

–ò—Å—Ö–æ–¥–Ω–∞—è –∑–∞–¥–∞—á–∞: {task_description}

–û—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã:
{answers}

–°–≥–µ–Ω–µ—Ä–∏—Ä—É–π —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –≤ JSON —Ñ–æ—Ä–º–∞—Ç–µ:
{
  "tech_stack": "...",
  "architecture": "...",
  "key_features": ["...", "..."],
  "scalability": "...",
  "compliance": "...",
  "risks": ["...", "..."],
  "recommendation_summary": "..."
}
```

#### Phase 3: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–∞ –¥–ª—è Cursor
```
–ù–∞ –æ—Å–Ω–æ–≤–µ –∑–∞–¥–∞—á–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø—Ä–∏–Ω—è—Ç—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π, —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π –ø–æ–ª–Ω—ã–π –ø—Ä–æ–º–ø—Ç.

–ò—Å—Ö–æ–¥–Ω–∞—è –∑–∞–¥–∞—á–∞: {task_description}
–ü—Ä–∏–Ω—è—Ç—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏: {recommendations}

–ü—Ä–æ–º–ø—Ç –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ —Å–µ–∫—Ü–∏–∏:
1. # –ó–ê–î–ê–ß–ê / # GOAL ‚Äî —á–µ—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ü–µ–ª–∏
2. # –¢–†–ï–ë–û–í–ê–ù–ò–Ø / # REQUIREMENTS ‚Äî –¥–µ—Ç–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
3. # TECH STACK ‚Äî —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫ —Å –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ–º
4. # –ê–†–•–ò–¢–ï–ö–¢–£–†–ê ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞, –º–æ–¥—É–ª–∏, –ø–∞—Ç—Ç–µ—Ä–Ω—ã
5. # –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –¢–†–ï–ë–û–í–ê–ù–ò–Ø ‚Äî —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
6. # OUTPUT FORMAT ‚Äî –∫–∞–∫ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

–í–µ—Ä–Ω–∏ –≥–æ—Ç–æ–≤—ã–π –ø—Ä–æ–º–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ Cursor.
```

---

## üîß –ö–õ–Æ–ß–ï–í–´–ï –§–£–ù–ö–¶–ò–ò

### 1. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ —ç–∫—Å–ø–æ—Ä—Ç –ø—Ä–æ–º–ø—Ç–æ–≤
```python
@router.message(Command("save"))
async def save_prompt(message: Message, state: FSMContext):
    """–°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç–µ–∫—É—â–∏–π –ø—Ä–æ–º–ø—Ç –≤ –ë–î –∏–ª–∏ —Ñ–∞–π–ª"""
    data = await state.get_data()
    # —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –ë–î —Å user_id, timestamp, prompt_text

@router.message(Command("export"))
async def export_prompt(message: Message, state: FSMContext):
    """–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –ø—Ä–æ–º–ø—Ç –≤ .txt —Ñ–∞–π–ª"""
    data = await state.get_data()
    # —Å–æ–∑–¥–∞–µ—Ç .txt —Ñ–∞–π–ª —Å –ø—Ä–æ–º–ø—Ç–æ–º –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –µ–≥–æ
```

### 2. –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å–µ–∫—Ü–∏–π
```python
@router.message(Command("edit_section"))
async def edit_section(message: Message, state: FSMContext):
    """–ü–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–¥–Ω—É —Å–µ–∫—Ü–∏—é –ø—Ä–æ–º–ø—Ç–∞"""
    # –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Å–µ–∫—Ü–∏–π
    # –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç —Å–µ–∫—Ü–∏—é
    # –≤–≤–æ–¥–∏—Ç –Ω–æ–≤—ã–π —Ç–µ–∫—Å—Ç
    # –æ–±–Ω–æ–≤–ª—è–µ—Ç –ø—Ä–æ–º–ø—Ç
```

### 3. –ò—Å—Ç–æ—Ä–∏—è —Å–µ—Å—Å–∏–π
```python
sessions[user_id] = {
    "task_description": "...",
    "clarification_questions": [...],
    "answers": {...},
    "recommendations": {...},
    "current_prompt": "...",
    "created_at": datetime.now(),
    "edited_count": 0
}
```

---

## üìã –ò–ù–¢–ï–†–§–ï–ô–° –ò –ö–û–ú–ê–ù–î–´

### –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞:
```
/start ‚Äî –Ω–∞—á–∞—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞
/help ‚Äî —Å–ø—Ä–∞–≤–∫–∞
/restart ‚Äî –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ
/accept ‚Äî –ø—Ä–∏–Ω—è—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
/rethink ‚Äî –ø–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
/edit ‚Äî —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏
/edit_section ‚Äî –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–µ–∫—Ü–∏—é –ø—Ä–æ–º–ø—Ç–∞
/add_requirement ‚Äî –¥–æ–±–∞–≤–∏—Ç—å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ
/remove_requirement ‚Äî —É–¥–∞–ª–∏—Ç—å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ
/save ‚Äî —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ–º–ø—Ç
/export ‚Äî —Å–∫–∞—á–∞—Ç—å –ø—Ä–æ–º–ø—Ç –∫–∞–∫ .txt —Ñ–∞–π–ª
```

### Inline-–∫–Ω–æ–ø–∫–∏ (–¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è):
```
–ü–æ—Å–ª–µ –ø–æ–∫–∞–∑–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π:
[‚úÖ –ü—Ä–∏–Ω—è—Ç—å] [üîÑ –ü–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å] [üìù –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ]

–ü–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø—Ä–æ–º–ø—Ç–∞:
[üìå –°–æ—Ö—Ä–∞–Ω–∏—Ç—å] [üì§ –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å] [üîß –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å] [üîÑ –ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ]
```

---

## üè≠ TECH STACK

```
- **Python 3.10+**
- **aiogram 3.x** ‚Äî —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è Telegram
- **OpenAI** (—á–µ—Ä–µ–∑ ProxyAPI) ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞ –∏ –∞–Ω–∞–ª–∏–∑
- **python-dotenv** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- **SQLAlchemy + SQLite** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) ‚Äî —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤ –≤ –ë–î
- **Jinja2** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) ‚Äî —à–∞–±–ª–æ–Ω—ã –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
```

### requirements.txt:
```
aiogram>=3.0.0
openai>=1.0.0
python-dotenv>=1.0.0
sqlalchemy>=2.0.0
pydantic>=2.0.0
```

---

## üìä –ü–ï–†–ï–ú–ï–ù–ù–´–ï –û–ö–†–£–ñ–ï–ù–ò–Ø (.env)

```env
# Telegram
BOT_TOKEN=your_telegram_bot_token

# OpenAI/ProxyAPI
OPENAI_API_KEY=your_proxyapi_key
OPENAI_BASE_URL=https://api.proxyapi.ru/openai/v1
LLM_MODEL=gpt-4o-mini

# –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
LOG_LEVEL=INFO
```

---

## üí° –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –¢–†–ï–ë–û–í–ê–ù–ò–Ø

1. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   - –í—Å–µ —Å–æ–±—ã—Ç–∏—è –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å (–≤–æ–ø—Ä–æ—Å—ã, –æ—Ç–≤–µ—Ç—ã, –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –ø—Ä–æ–º–ø—Ç–æ–≤)
   - –°–æ—Ö—Ä–∞–Ω—è—Ç—å –ª–æ–≥–∏ –≤ —Ñ–∞–π–ª `bot.log`

2. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:**
   - Graceful handling API errors
   - Retry logic —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π
   - User-friendly error messages

3. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
   - –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤
   - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞

4. **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å:**
   - –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —à–∞–±–ª–æ–Ω—ã –≤–æ–ø—Ä–æ—Å–æ–≤
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–æ–≤

---

## ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –¢–†–ï–ë–û–í–ê–ù–ò–Ø

1. ‚úÖ **–ö–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–∏–º** ‚Äî –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
2. ‚úÖ **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å aiogram 3.x** —Å async/await
3. ‚úÖ **ProxyAPI –¥–ª—è OpenAI** —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π base_url
4. ‚úÖ **FSM –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏** –¥–∏–∞–ª–æ–≥–∞
5. ‚úÖ **–î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
6. ‚úÖ **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ —Ç–∞–π–º–∞—É—Ç–æ–≤**
7. ‚úÖ **–•—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ—Å—Å–∏–π** –≤ –ø–∞–º—è—Ç–∏
8. ‚úÖ **–≠–∫—Å–ø–æ—Ä—Ç –ø—Ä–æ–º–ø—Ç–æ–≤** –≤ —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª
9. ‚úÖ **Inline-–∫–Ω–æ–ø–∫–∏** –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
10. ‚úÖ **Windows-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**

---

## üöÄ –ò–ù–°–¢–†–£–ö–¶–ò–ò –ü–û –ó–ê–ü–£–°–ö–£

```bash
# 1. –ö–ª–æ–Ω–∏—Ä—É–π —Ä–µ–ø–æ
git clone <repo_url>
cd tg_bot_prompt_generator

# 2. –°–æ–∑–¥–∞–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# 3. –£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# 4. –°–æ–∑–¥–∞–π .env —Ñ–∞–π–ª
cp .env.example .env
# –ó–∞–ø–æ–ª–Ω–∏ BOT_TOKEN –∏ OPENAI_API_KEY

# 5. –ó–∞–ø—É—Å—Ç–∏ –±–æ—Ç–∞
python main.py

# 6. –í Telegram –Ω–∞–π–¥–∏ –±–æ—Ç–∞ –∏ –Ω–∞–ø–∏—à–∏ /start
```

---

**–°–µ–π—á–∞—Å —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π –≤–µ—Å—å –∫–æ–¥ –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é.**